/*
 * This file was generated by the Gradle 'init' task.
 */
apply plugin: 'de.Ste3et_C0st.furniture.java-conventions'

buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }

  }
  dependencies {
    classpath "gradle.plugin.com.github.johnrengelman:shadow:7.1.0"
  }
}

apply plugin: 'com.github.johnrengelman.shadow'

repositories {
    mavenLocal()
    
    maven {
    	url = uri('https://repo.extendedclip.com/content/repositories/placeholderapi/')
    }
}

dependencies {
    compileOnly 'org.spigotmc:spigot-api:1.20.2-R0.1-SNAPSHOT'
    
    implementation "com.zaxxer:HikariCP:4.0.3"
    implementation "org.slf4j:slf4j-simple:1.7.5"
    implementation "net.kyori:adventure-text-minimessage:4.13.0"
    implementation "net.kyori:adventure-platform-bukkit:4.3.0"
    implementation "net.kyori:adventure-text-serializer-legacy:4.13.0"
    implementation "net.kyori:adventure-text-serializer-plain:4.13.0"

    compileOnly 'com.github.MilkBowl:VaultAPI:1.7'
    compileOnly 'com.gitlab.Ste3et_C0st.protectionlib:Core:v1.4'
    compileOnly 'com.github.BeYkeRYkt.LightAPI:lightapi-bukkit-common:5.1.0-Bukkit'
    compileOnly 'com.github.BeYkeRYkt.LightAPI:lightapi-bukkit-backward-support:5.1.0-Bukkit'
    compileOnly 'me.clip:placeholderapi:2.11.2'
    
    //temp local depenceys
    compileOnly files('tempDependenys/ProtocolLib.jar')
    compileOnly files('tempDependenys/floodgateAPI.jar')
}

shadowJar {
   mergeServiceFiles()
   archiveBaseName.set('FurnitureLib-Core')
   archiveClassifier.set('')
   
   relocate 'com.zaxxer.hikari', 'de.Ste3et_C0st.FurnitureLib.Database.com.zaxxer.hikari'
   relocate 'net.kyori', 'de.Ste3et_C0st.FurnitureLib.Paper.net.kyori'
}

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

sourceSets {
    main {
        java {
            srcDirs= ["src/main/java"]
            exclude 'de/Ste3et_C0st/ProtectionLibRework/**'
        }
        resources {
            srcDirs= ["src/main/resources"]
        }
    }
}


tasks {
   jar {
	   enabled = true
   }
   
   assemble{
    	dependsOn(shadowJar)
   }
}

description = 'FurnitureLib-Core'