/*
 * This file was generated by the Gradle 'init' task.
 */
import org.apache.tools.ant.filters.ReplaceTokens

plugins {
    id 'java-library'
    id 'maven-publish'
}

subprojects {
	apply plugin: 'java'
	apply plugin: 'maven-publish'

	java {
		withSourcesJar()
	}
}

repositories {
    mavenLocal()

    maven {
    	url = uri('https://jitpack.io')
    }
    
    maven {
    	url = uri('https://repo.papermc.io/repository/maven-public/')
    }
    
    maven {
    	url = uri('https://oss.sonatype.org/content/groups/public/')
    }
    
    maven {
    	url = uri('https://repo.dmulloy2.net/repository/public/')
    }
    
    maven {
    	url = uri('https://repo.opencollab.dev/maven-snapshots/')
    }
    
    maven {
    	url = uri('https://repo.maven.apache.org/maven2/')
    }

	maven {
		url = uri('https://hub.spigotmc.org/nexus/content/repositories/snapshots/')
	}
}

dependencies {

}

sourceSets {
    main {
         java {
             srcDirs= ["src/main/java"]
         }
         resources {
             srcDirs= ["src/main/resources"]
         }
    }
}

processResources {
    filter ReplaceTokens, tokens: [
       "version": project.property("version") + (project.hasProperty('snapshotVersion') ? "-" + project.getProperty('snapshotVersion') : "" )
    ]
}

tasks {
   jar {
	   enabled = false
   }
}

allprojects {
    group = 'de.Ste3et_C0st.furniture'
    version = '3.0.2'
    compileJava.options.encoding = 'UTF-8'
	tasks.withType(JavaCompile) {
	    options.encoding = 'UTF-8'
	}
}

publishing {
	publications {
		maven(MavenPublication) {
			groupId project.group
			artifactId project.name
			version project.version
			artifact "build/libs/${project.name}-${project.version}.jar"
		}
	}
}

task copyJarToBin {
	copy {
	    from "build/libs/${project.name}-${project.version}.jar"
	    into "build/libs/"
	    rename { String fileName ->
        	fileName.replace("-$project.version", "")
    	}
	}
}